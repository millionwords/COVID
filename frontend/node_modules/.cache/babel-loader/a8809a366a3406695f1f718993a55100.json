{"ast":null,"code":"import _classCallCheck from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{EditorState,convertToRaw,ContentState}from'draft-js';import{Editor}from'react-draft-wysiwyg';import draftToHtml from'draftjs-to-html';import htmlToDraft from'html-to-draftjs';import'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';var RichTextEditor=/*#__PURE__*/function(_Component){_inherits(RichTextEditor,_Component);var _super=_createSuper(RichTextEditor);function RichTextEditor(props){var _this;_classCallCheck(this,RichTextEditor);_this=_super.call(this,props);_this.onEditorStateChange=function(editorState){_this.setState({editorState});var body=draftToHtml(convertToRaw(editorState.getCurrentContent()));_this.props.onEditorContentChange&&_this.props.onEditorContentChange(body);};_this.state={editorState:EditorState.createEmpty()};_this.onEditorStateChange=_this.onEditorStateChange.bind(_assertThisInitialized(_this));return _this;}_createClass(RichTextEditor,[{key:\"componentDidMount\",value:function componentDidMount(prevProps){if(this.props.initialContent){var _htmlToDraft=htmlToDraft(this.props.initialContent),contentBlocks=_htmlToDraft.contentBlocks,entityMap=_htmlToDraft.entityMap;var contentState=ContentState.createFromBlockArray(contentBlocks,entityMap);this.setState({editorState:EditorState.createWithContent(contentState)});}}/**\n     * On editor body change\n     */},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Editor,{editorState:this.state.editorState,wrapperClassName:\"rich-editor-wrapper\",editorClassName:\"rich-editor\",onEditorStateChange:this.onEditorStateChange,toolbarClassName:this.props.hideToolbar?'hide-toolbar':''}));}}]);return RichTextEditor;}(Component);export default RichTextEditor;","map":{"version":3,"sources":["/root/home/covid/frontend/src/components/RichTextEditor.js"],"names":["React","Component","EditorState","convertToRaw","ContentState","Editor","draftToHtml","htmlToDraft","RichTextEditor","props","onEditorStateChange","editorState","setState","body","getCurrentContent","onEditorContentChange","state","createEmpty","bind","prevProps","initialContent","contentBlocks","entityMap","contentState","createFromBlockArray","createWithContent","hideToolbar"],"mappings":"gtBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,OAASC,WAAT,CAAsBC,YAAtB,CAAoCC,YAApC,KAAwD,UAAxD,CACA,OAASC,MAAT,KAAuB,qBAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CACA,MAAO,kDAAP,C,GAEMC,CAAAA,c,gHACF,wBAAYC,KAAZ,CAAmB,gDACf,uBAAMA,KAAN,EADe,MAqBnBC,mBArBmB,CAqBG,SAACC,WAAD,CAAiB,CACnC,MAAKC,QAAL,CAAc,CACVD,WADU,CAAd,EAGA,GAAME,CAAAA,IAAI,CAAGP,WAAW,CAACH,YAAY,CAACQ,WAAW,CAACG,iBAAZ,EAAD,CAAb,CAAxB,CACA,MAAKL,KAAL,CAAWM,qBAAX,EAAoC,MAAKN,KAAL,CAAWM,qBAAX,CAAiCF,IAAjC,CAApC,CACH,CA3BkB,CAGf,MAAKG,KAAL,CAAa,CACTL,WAAW,CAAET,WAAW,CAACe,WAAZ,EADJ,CAAb,CAIA,MAAKP,mBAAL,CAA2B,MAAKA,mBAAL,CAAyBQ,IAAzB,+BAA3B,CAPe,aAQlB,C,uFAEiBC,S,CAAW,CACzB,GAAI,KAAKV,KAAL,CAAWW,cAAf,CAA+B,kBACUb,WAAW,CAAC,KAAKE,KAAL,CAAWW,cAAZ,CADrB,CACnBC,aADmB,cACnBA,aADmB,CACJC,SADI,cACJA,SADI,CAE3B,GAAMC,CAAAA,YAAY,CAAGnB,YAAY,CAACoB,oBAAb,CAAkCH,aAAlC,CAAiDC,SAAjD,CAArB,CACA,KAAKV,QAAL,CAAc,CAAED,WAAW,CAAET,WAAW,CAACuB,iBAAZ,CAA8BF,YAA9B,CAAf,CAAd,EACH,CACJ,CAED;;8CAWS,CACL,mBACI,oBAAC,KAAD,CAAO,QAAP,mBAEI,oBAAC,MAAD,EACI,WAAW,CAAE,KAAKP,KAAL,CAAWL,WAD5B,CAEI,gBAAgB,CAAC,qBAFrB,CAGI,eAAe,CAAC,aAHpB,CAII,mBAAmB,CAAE,KAAKD,mBAJ9B,CAKI,gBAAgB,CAAE,KAAKD,KAAL,CAAWiB,WAAX,CAAyB,cAAzB,CAA0C,EALhE,EAFJ,CADJ,CAaH,C,4BA5CwBzB,S,EAgD7B,cAAeO,CAAAA,cAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport { EditorState, convertToRaw, ContentState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg'\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\n\nclass RichTextEditor extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            editorState: EditorState.createEmpty(),\n        };\n\n        this.onEditorStateChange = this.onEditorStateChange.bind(this);\n    }\n\n    componentDidMount(prevProps) {\n        if (this.props.initialContent) {\n            const { contentBlocks, entityMap } = htmlToDraft(this.props.initialContent);\n            const contentState = ContentState.createFromBlockArray(contentBlocks, entityMap);\n            this.setState({ editorState: EditorState.createWithContent(contentState) });\n        }\n    }\n\n    /**\n     * On editor body change\n     */\n    onEditorStateChange = (editorState) => {\n        this.setState({\n            editorState,\n        });\n        const body = draftToHtml(convertToRaw(editorState.getCurrentContent()));\n        this.props.onEditorContentChange && this.props.onEditorContentChange(body);\n    };\n\n    render() {\n        return (\n            <React.Fragment>\n\n                <Editor\n                    editorState={this.state.editorState}\n                    wrapperClassName=\"rich-editor-wrapper\"\n                    editorClassName=\"rich-editor\"\n                    onEditorStateChange={this.onEditorStateChange}\n                    toolbarClassName={this.props.hideToolbar ? 'hide-toolbar' : ''}\n                />\n\n            </React.Fragment>\n        )\n    }\n}\n\n\nexport default RichTextEditor;"]},"metadata":{},"sourceType":"module"}