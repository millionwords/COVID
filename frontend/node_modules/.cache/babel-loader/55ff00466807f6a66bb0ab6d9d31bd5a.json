{"ast":null,"code":"import _classCallCheck from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{BrowserRouter,Switch}from'react-router-dom';import Loadable from'react-loadable';import{connect}from'react-redux';import{isUserAuthenticated}from'../helpers/authUtils';import*as layoutConstants from'../constants/layout';import{allFlattenRoutes as routes}from'./index';// Lazy loading and code splitting -\n// Derieved idea from https://blog.logrocket.com/lazy-loading-components-in-react-16-6-6cea535c0b52\nvar loading=function loading(){return/*#__PURE__*/React.createElement(\"div\",null);};// All layouts/containers\nvar AuthLayout=Loadable({loader:function loader(){return import('../layouts/Auth');},render(loaded,props){var Component=loaded.default;return/*#__PURE__*/React.createElement(Component,props);},loading});var VerticalLayout=Loadable({loader:function loader(){return import('../layouts/Vertical');},render(loaded,props){var Component=loaded.default;return/*#__PURE__*/React.createElement(Component,props);},loading});var HorizontalLayout=Loadable({loader:function loader(){return import('../layouts/Horizontal');},render(loaded,props){var Component=loaded.default;return/*#__PURE__*/React.createElement(Component,props);},loading});var Routes=/*#__PURE__*/function(_Component){_inherits(Routes,_Component);var _super=_createSuper(Routes);function Routes(){var _this;_classCallCheck(this,Routes);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.getLayout=function(){if(!isUserAuthenticated())return AuthLayout;var layoutCls=VerticalLayout;switch(_this.props.layout.layoutType){case layoutConstants.LAYOUT_HORIZONTAL:layoutCls=HorizontalLayout;break;default:layoutCls=VerticalLayout;break;}return layoutCls;};return _this;}_createClass(Routes,[{key:\"render\",value:function render(){var Layout=this.getLayout();// rendering the router with layout\nreturn/*#__PURE__*/React.createElement(BrowserRouter,null,/*#__PURE__*/React.createElement(Layout,this.props,/*#__PURE__*/React.createElement(Switch,null,routes.map(function(route,index){return!route.children?/*#__PURE__*/React.createElement(route.route,{key:index,path:route.path,roles:route.roles,exact:route.exact,component:route.component}):null;}))));}}]);return Routes;}(Component);var mapStateToProps=function mapStateToProps(state){return{layout:state.Layout,user:state.Auth.user};};export default connect(mapStateToProps,null)(Routes);","map":{"version":3,"sources":["/root/home/covid/frontend/src/routes/Routes.js"],"names":["React","Component","BrowserRouter","Switch","Loadable","connect","isUserAuthenticated","layoutConstants","allFlattenRoutes","routes","loading","AuthLayout","loader","render","loaded","props","default","VerticalLayout","HorizontalLayout","Routes","getLayout","layoutCls","layout","layoutType","LAYOUT_HORIZONTAL","Layout","map","route","index","children","path","roles","exact","component","mapStateToProps","state","user","Auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter, Switch } from 'react-router-dom';\r\nimport Loadable from 'react-loadable';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { isUserAuthenticated } from '../helpers/authUtils';\r\nimport * as layoutConstants from '../constants/layout';\r\nimport { allFlattenRoutes as routes } from './index';\r\n\r\n// Lazy loading and code splitting -\r\n// Derieved idea from https://blog.logrocket.com/lazy-loading-components-in-react-16-6-6cea535c0b52\r\nconst loading = () => <div></div>;\r\n\r\n// All layouts/containers\r\nconst AuthLayout = Loadable({\r\n    loader: () => import('../layouts/Auth'),\r\n    render(loaded, props) {\r\n        let Component = loaded.default;\r\n        return <Component {...props} />;\r\n    },\r\n    loading,\r\n});\r\n\r\nconst VerticalLayout = Loadable({\r\n    loader: () => import('../layouts/Vertical'),\r\n    render(loaded, props) {\r\n        let Component = loaded.default;\r\n        return <Component {...props} />;\r\n    },\r\n    loading,\r\n});\r\n\r\nconst HorizontalLayout = Loadable({\r\n    loader: () => import('../layouts/Horizontal'),\r\n    render(loaded, props) {\r\n        let Component = loaded.default;\r\n        return <Component {...props} />;\r\n    },\r\n    loading,\r\n});\r\n\r\nclass Routes extends Component {\r\n\r\n    // returns the layout\r\n    getLayout = () => {\r\n        if (!isUserAuthenticated()) return AuthLayout;\r\n\r\n        let layoutCls = VerticalLayout;\r\n\r\n        switch (this.props.layout.layoutType) {\r\n            case layoutConstants.LAYOUT_HORIZONTAL:\r\n                layoutCls = HorizontalLayout;\r\n                break;\r\n            default:\r\n                layoutCls = VerticalLayout;\r\n                break;\r\n        }\r\n        return layoutCls;\r\n    }\r\n\r\n    render() {\r\n        const Layout = this.getLayout();\r\n        \r\n        // rendering the router with layout\r\n        return <BrowserRouter>\r\n            <Layout {...this.props}>\r\n                <Switch>\r\n                    {routes.map((route, index) => {\r\n                        return (\r\n                            !route.children ?\r\n                                <route.route\r\n                                    key={index}\r\n                                    path={route.path}\r\n                                    roles={route.roles}\r\n                                    exact={route.exact}\r\n                                    component={route.component}></route.route>\r\n                                : null\r\n                        );\r\n                    })}\r\n                </Switch>\r\n            </Layout>\r\n        </BrowserRouter>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        layout: state.Layout,\r\n        user: state.Auth.user,\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    null\r\n)(Routes);\r\n"]},"metadata":{},"sourceType":"module"}