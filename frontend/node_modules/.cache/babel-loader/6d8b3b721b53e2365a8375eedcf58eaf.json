{"ast":null,"code":"import _classCallCheck from \"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _this = this,\n    _jsxFileName = \"/root/home/covid/frontend/src/routes/Routes.js\";\n\nimport React, { Component } from 'react';\nimport { BrowserRouter, Switch } from 'react-router-dom';\nimport Loadable from 'react-loadable';\nimport { connect } from 'react-redux';\nimport { isUserAuthenticated } from '../helpers/authUtils';\nimport * as layoutConstants from '../constants/layout';\nimport { allFlattenRoutes as routes } from './index'; // Lazy loading and code splitting -\n// Derieved idea from https://blog.logrocket.com/lazy-loading-components-in-react-16-6-6cea535c0b52\n\nvar loading = function loading() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 23\n    }\n  });\n}; // All layouts/containers\n\n\nvar AuthLayout = Loadable({\n  loader: function loader() {\n    return import('../layouts/Auth');\n  },\n\n  render(loaded, props) {\n    var Component = loaded.default;\n    return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 16\n      }\n    }));\n  },\n\n  loading\n});\nvar VerticalLayout = Loadable({\n  loader: function loader() {\n    return import('../layouts/Vertical');\n  },\n\n  render(loaded, props) {\n    var Component = loaded.default;\n    return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 16\n      }\n    }));\n  },\n\n  loading\n});\nvar HorizontalLayout = Loadable({\n  loader: function loader() {\n    return import('../layouts/Horizontal');\n  },\n\n  render(loaded, props) {\n    var Component = loaded.default;\n    return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 16\n      }\n    }));\n  },\n\n  loading\n});\n\nvar Routes = /*#__PURE__*/function (_Component) {\n  _inherits(Routes, _Component);\n\n  var _super = _createSuper(Routes);\n\n  function Routes() {\n    var _this2;\n\n    _classCallCheck(this, Routes);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _super.call.apply(_super, [this].concat(args));\n\n    _this2.getLayout = function () {\n      if (!isUserAuthenticated()) return AuthLayout;\n      var layoutCls = VerticalLayout;\n\n      switch (_this2.props.layout.layoutType) {\n        case layoutConstants.LAYOUT_HORIZONTAL:\n          layoutCls = HorizontalLayout;\n          break;\n\n        default:\n          layoutCls = VerticalLayout;\n          break;\n      }\n\n      return layoutCls;\n    };\n\n    return _this2;\n  }\n\n  _createClass(Routes, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var Layout = this.getLayout(); // rendering the router with layout\n\n      return /*#__PURE__*/React.createElement(BrowserRouter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(Layout, Object.assign({}, this.props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }\n      }, routes.map(function (route, index) {\n        return !route.children ? /*#__PURE__*/React.createElement(route.route, {\n          key: index,\n          path: route.path,\n          roles: route.roles,\n          exact: route.exact,\n          component: route.component,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 33\n          }\n        }) : null;\n      }))));\n    }\n  }]);\n\n  return Routes;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    layout: state.Layout,\n    user: state.Auth.user\n  };\n};\n\nexport default connect(mapStateToProps, null)(Routes);","map":{"version":3,"sources":["/root/home/covid/frontend/src/routes/Routes.js"],"names":["React","Component","BrowserRouter","Switch","Loadable","connect","isUserAuthenticated","layoutConstants","allFlattenRoutes","routes","loading","AuthLayout","loader","render","loaded","props","default","VerticalLayout","HorizontalLayout","Routes","getLayout","layoutCls","layout","layoutType","LAYOUT_HORIZONTAL","Layout","map","route","index","children","path","roles","exact","component","mapStateToProps","state","user","Auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter, Switch } from 'react-router-dom';\r\nimport Loadable from 'react-loadable';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { isUserAuthenticated } from '../helpers/authUtils';\r\nimport * as layoutConstants from '../constants/layout';\r\nimport { allFlattenRoutes as routes } from './index';\r\n\r\n// Lazy loading and code splitting -\r\n// Derieved idea from https://blog.logrocket.com/lazy-loading-components-in-react-16-6-6cea535c0b52\r\nconst loading = () => <div></div>;\r\n\r\n// All layouts/containers\r\nconst AuthLayout = Loadable({\r\n    loader: () => import('../layouts/Auth'),\r\n    render(loaded, props) {\r\n        let Component = loaded.default;\r\n        return <Component {...props} />;\r\n    },\r\n    loading,\r\n});\r\n\r\nconst VerticalLayout = Loadable({\r\n    loader: () => import('../layouts/Vertical'),\r\n    render(loaded, props) {\r\n        let Component = loaded.default;\r\n        return <Component {...props} />;\r\n    },\r\n    loading,\r\n});\r\n\r\nconst HorizontalLayout = Loadable({\r\n    loader: () => import('../layouts/Horizontal'),\r\n    render(loaded, props) {\r\n        let Component = loaded.default;\r\n        return <Component {...props} />;\r\n    },\r\n    loading,\r\n});\r\n\r\nclass Routes extends Component {\r\n\r\n    // returns the layout\r\n    getLayout = () => {\r\n        if (!isUserAuthenticated()) return AuthLayout;\r\n\r\n        let layoutCls = VerticalLayout;\r\n\r\n        switch (this.props.layout.layoutType) {\r\n            case layoutConstants.LAYOUT_HORIZONTAL:\r\n                layoutCls = HorizontalLayout;\r\n                break;\r\n            default:\r\n                layoutCls = VerticalLayout;\r\n                break;\r\n        }\r\n        return layoutCls;\r\n    }\r\n\r\n    render() {\r\n        const Layout = this.getLayout();\r\n        \r\n        // rendering the router with layout\r\n        return <BrowserRouter>\r\n            <Layout {...this.props}>\r\n                <Switch>\r\n                    {routes.map((route, index) => {\r\n                        return (\r\n                            !route.children ?\r\n                                <route.route\r\n                                    key={index}\r\n                                    path={route.path}\r\n                                    roles={route.roles}\r\n                                    exact={route.exact}\r\n                                    component={route.component}></route.route>\r\n                                : null\r\n                        );\r\n                    })}\r\n                </Switch>\r\n            </Layout>\r\n        </BrowserRouter>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        layout: state.Layout,\r\n        user: state.Auth.user,\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    null\r\n)(Routes);\r\n"]},"metadata":{},"sourceType":"module"}