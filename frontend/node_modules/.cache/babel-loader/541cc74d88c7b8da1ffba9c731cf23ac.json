{"ast":null,"code":"import _classCallCheck from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{Redirect,Link}from'react-router-dom';import{Container,Row,Col,Card,CardBody,Label,FormGroup,Button,Alert,InputGroup,InputGroupAddon}from'reactstrap';import{AvForm,AvGroup,AvInput,AvFeedback}from'availity-reactstrap-validation';import{Mail,Lock}from'react-feather';import{loginUser}from'../../redux/actions';import{isUserAuthenticated}from'../../helpers/authUtils';import Loader from'../../components/Loader';import logo from'../../assets/images/logo.png';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this._isMounted=false;_this.handleValidSubmit=function(event,values){_this.props.loginUser(values.username,values.password,_this.props.history);};_this.renderRedirectToRoot=function(){var isAuthTokenValid=isUserAuthenticated();if(isAuthTokenValid){return/*#__PURE__*/React.createElement(Redirect,{to:\"/home\"});}};_this.handleValidSubmit=_this.handleValidSubmit.bind(_assertThisInitialized(_this));_this.state={username:'test',password:'test'};return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.loginUser(\"test\",\"test\",this.props.history);this._isMounted=true;document.body.classList.add('authentication-bg');}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._isMounted=false;document.body.classList.remove('authentication-bg');}/**\n     * Handles the submit\n     */},{key:\"render\",value:function render(){var isAuthTokenValid=isUserAuthenticated();return/*#__PURE__*/React.createElement(React.Fragment,null,this.renderRedirectToRoot(),(this._isMounted||!isAuthTokenValid)&&/*#__PURE__*/React.createElement(\"div\",{className:\"account-pages my-5\"},/*#__PURE__*/React.createElement(Container,null)));}}]);return Login;}(Component);var mapStateToProps=function mapStateToProps(state){var _state$Auth=state.Auth,user=_state$Auth.user,loading=_state$Auth.loading,error=_state$Auth.error;return{user,loading,error};};export default connect(mapStateToProps,{loginUser})(Login);","map":{"version":3,"sources":["/root/home/covid/frontend/src/pages/auth/Login.js"],"names":["React","Component","connect","Redirect","Link","Container","Row","Col","Card","CardBody","Label","FormGroup","Button","Alert","InputGroup","InputGroupAddon","AvForm","AvGroup","AvInput","AvFeedback","Mail","Lock","loginUser","isUserAuthenticated","Loader","logo","Login","props","_isMounted","handleValidSubmit","event","values","username","password","history","renderRedirectToRoot","isAuthTokenValid","bind","state","document","body","classList","add","remove","mapStateToProps","Auth","user","loading","error"],"mappings":"gtBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,QAAT,CAAmBC,IAAnB,KAA+B,kBAA/B,CAEA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,GAAzB,CAA8BC,IAA9B,CAAoCC,QAApC,CAA8CC,KAA9C,CAAqDC,SAArD,CAAgEC,MAAhE,CAAwEC,KAAxE,CAA+EC,UAA/E,CAA2FC,eAA3F,KAAkH,YAAlH,CACA,OAASC,MAAT,CAAiBC,OAAjB,CAA0BC,OAA1B,CAAmCC,UAAnC,KAAqD,gCAArD,CACA,OAASC,IAAT,CAAeC,IAAf,KAA2B,eAA3B,CAEA,OAASC,SAAT,KAA0B,qBAA1B,CACA,OAASC,mBAAT,KAAoC,yBAApC,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,8BAAjB,C,GAEMC,CAAAA,K,8FAGF,eAAYC,KAAZ,CAAmB,uCACf,uBAAMA,KAAN,EADe,MAFnBC,UAEmB,CAFN,KAEM,OAyBnBC,iBAzBmB,CAyBC,SAACC,KAAD,CAAQC,MAAR,CAAmB,CACnC,MAAKJ,KAAL,CAAWL,SAAX,CAAqBS,MAAM,CAACC,QAA5B,CAAsCD,MAAM,CAACE,QAA7C,CAAuD,MAAKN,KAAL,CAAWO,OAAlE,EACH,CA3BkB,OAiCnBC,oBAjCmB,CAiCI,UAAM,CACzB,GAAMC,CAAAA,gBAAgB,CAAGb,mBAAmB,EAA5C,CACA,GAAIa,gBAAJ,CAAsB,CAClB,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,OAAb,EAAP,CACH,CACJ,CAtCkB,CAGf,MAAKP,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBQ,IAAvB,+BAAzB,CACA,MAAKC,KAAL,CAAa,CACTN,QAAQ,CAAE,MADD,CAETC,QAAQ,CAAE,MAFD,CAAb,CAJe,aAQlB,C,+EAEmB,CAChB,KAAKN,KAAL,CAAWL,SAAX,CAAqB,MAArB,CAA6B,MAA7B,CAAqC,KAAKK,KAAL,CAAWO,OAAhD,EACA,KAAKN,UAAL,CAAkB,IAAlB,CAEAW,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,mBAA5B,EACH,C,mEAEsB,CACnB,KAAKd,UAAL,CAAkB,KAAlB,CACAW,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBE,MAAxB,CAA+B,mBAA/B,EACH,CAED;;8CAkBS,CACL,GAAMP,CAAAA,gBAAgB,CAAGb,mBAAmB,EAA5C,CAEA,mBACI,oBAAC,KAAD,CAAO,QAAP,MAEK,KAAKY,oBAAL,EAFL,CAIK,CAAC,KAAKP,UAAL,EAAmB,CAACQ,gBAArB,gBAA0C,2BAAK,SAAS,CAAC,oBAAf,eACvC,oBAAC,SAAD,MADuC,CAJ/C,CADJ,CAiGH,C,mBA/IenC,S,EAmJpB,GAAM2C,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACN,KAAD,CAAW,iBACEA,KAAK,CAACO,IADR,CACvBC,IADuB,aACvBA,IADuB,CACjBC,OADiB,aACjBA,OADiB,CACRC,KADQ,aACRA,KADQ,CAE/B,MAAO,CAAEF,IAAF,CAAQC,OAAR,CAAiBC,KAAjB,CAAP,CACH,CAHD,CAKA,cAAe9C,CAAAA,OAAO,CAAC0C,eAAD,CAAkB,CAAEtB,SAAF,CAAlB,CAAP,CAAwCI,KAAxC,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect, Link } from 'react-router-dom'\n\nimport { Container, Row, Col, Card, CardBody, Label, FormGroup, Button, Alert, InputGroup, InputGroupAddon } from 'reactstrap';\nimport { AvForm, AvGroup, AvInput, AvFeedback } from 'availity-reactstrap-validation';\nimport { Mail, Lock } from 'react-feather';\n\nimport { loginUser } from '../../redux/actions';\nimport { isUserAuthenticated } from '../../helpers/authUtils';\nimport Loader from '../../components/Loader';\nimport logo from '../../assets/images/logo.png';\n\nclass Login extends Component {\n    _isMounted = false;\n\n    constructor(props) {\n        super(props);\n\n        this.handleValidSubmit = this.handleValidSubmit.bind(this);\n        this.state = {\n            username: 'test',\n            password: 'test'\n        }\n    }\n\n    componentDidMount() {\n        this.props.loginUser(\"test\", \"test\", this.props.history);\n        this._isMounted = true;\n\n        document.body.classList.add('authentication-bg');\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n        document.body.classList.remove('authentication-bg');\n    }\n\n    /**\n     * Handles the submit\n     */\n    handleValidSubmit = (event, values) => {\n        this.props.loginUser(values.username, values.password, this.props.history);\n    }\n\n\n    /**\n     * Redirect to root\n     */\n    renderRedirectToRoot = () => {\n        const isAuthTokenValid = isUserAuthenticated();\n        if (isAuthTokenValid) {\n            return <Redirect to='/home' />\n        }\n    }\n\n    render() {\n        const isAuthTokenValid = isUserAuthenticated();\n\t\n        return (\n            <React.Fragment>\n\n                {this.renderRedirectToRoot()}\n\n                {(this._isMounted || !isAuthTokenValid) && <div className=\"account-pages my-5\">\n                    <Container>\n                        {/*<Row className=\"justify-content-center\">\n                            <Col xl={10}>\n                                <Card className=\"\">\n                                    <CardBody className=\"p-0\">\n                                        <Row>\n                                            <Col md={6} className=\"p-5 position-relative\">\n                                                \n                                                {this.props.loading && <Loader />}\n\n                                                <div className=\"mx-auto mb-5\">\n                                                    <a href=\"/\">\n                                                        <img src={logo} alt=\"\" height=\"24\" />\n                                                        <h3 className=\"d-inline align-middle ml-1 text-logo\">Shreyu</h3>\n                                                    </a>\n                                                </div>\n\n                                                <h6 className=\"h5 mb-0 mt-4\">Welcome back!</h6>\n                                                <p className=\"text-muted mt-1 mb-4\">Enter your email address and password to access admin panel.</p>\n\n\n                                                {this.props.error && <Alert color=\"danger\" isOpen={this.props.error ? true : false}>\n                                                    <div>{this.props.error}</div>\n                                                </Alert>}\n\n                                                <AvForm onValidSubmit={this.handleValidSubmit} className=\"authentication-form\">\n                                                    <AvGroup className=\"\">\n                                                        <Label for=\"username\">Username</Label>\n                                                        <InputGroup>\n                                                            <InputGroupAddon addonType=\"prepend\">\n                                                                <span className=\"input-group-text\">\n                                                                    <Mail className=\"icon-dual\" />\n                                                                </span>\n                                                            </InputGroupAddon>\n                                                            <AvInput type=\"text\" name=\"username\" id=\"username\" placeholder=\"hello@coderthemes.com\" value={this.state.username} required />\n                                                        </InputGroup>\n                                                        \n                                                        <AvFeedback>This field is invalid</AvFeedback>\n                                                    </AvGroup>\n\n\n                                                    <AvGroup className=\"mb-3\">\n                                                        <Label for=\"password\">Password</Label>\n                                                        <Link to=\"/account/forget-password\" className=\"float-right text-muted text-unline-dashed ml-1\">Forgot your password?</Link>\n                                                        <InputGroup>\n                                                            <InputGroupAddon addonType=\"prepend\">\n                                                                <span className=\"input-group-text\">\n                                                                    <Lock className=\"icon-dual\" />\n                                                                </span>\n                                                            </InputGroupAddon>\n                                                            <AvInput type=\"password\" name=\"password\" id=\"password\" placeholder=\"Enter your password\" value={this.state.password} required />\n                                                        </InputGroup>\n                                                        <AvFeedback>This field is invalid</AvFeedback>\n                                                    </AvGroup>\n\n                                                    <FormGroup className=\"form-group mb-0 text-center\">\n                                                        <Button color=\"primary\" className=\"btn-block\">Log In</Button>\n                                                    </FormGroup>\n\n                                                    <p className=\"mt-3\"><strong>Username:</strong> test &nbsp;&nbsp; <strong>Password:</strong> test</p>\n                                                </AvForm>\n                                            </Col>\n\n                                            <Col md={6} className=\"d-none d-md-inline-block\">\n                                                <div className=\"auth-page-sidebar\">\n                                                    <div className=\"overlay\"></div>\n                                                    <div className=\"auth-user-testimonial\">\n                                                        <p className=\"font-size-24 font-weight-bold text-white mb-1\">I simply love it!</p>\n                                                        <p className=\"lead\">\"It's a elegent templete. I love it very much!\"</p>\n                                                        <p>- Admin User</p>\n                                                    </div>\n                                                </div>\n                                            </Col>\n                                        </Row>\n\n                                        \n                                    </CardBody>\n                                </Card>\n                            </Col>\n                        </Row>\n\n                        <Row className=\"mt-3\">\n                            <Col className=\"col-12 text-center\">\n                                <p className=\"text-muted\">Don't have an account? <Link to=\"/account/register\" className=\"text-primary font-weight-bold ml-1\">Sign Up</Link></p>\n                            </Col>\n                        </Row>*/}\n\n                    </Container>\n                </div>}\n            </React.Fragment>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    const { user, loading, error } = state.Auth;\n    return { user, loading, error };\n};\n\nexport default connect(mapStateToProps, { loginUser })(Login);\n"]},"metadata":{},"sourceType":"module"}