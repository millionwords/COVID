{"ast":null,"code":"import _classCallCheck from \"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/root/home/covid/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _this = this,\n    _jsxFileName = \"/root/home/covid/frontend/src/components/AppMenu.js\";\n\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport MetisMenu from 'metismenujs/dist/metismenujs';\nimport { initMenu, changeActiveMenuFromLocation } from '../redux/actions';\n\nvar MenuItemWithChildren = function MenuItemWithChildren(_ref) {\n  var item = _ref.item,\n      linkClassNames = _ref.linkClassNames,\n      subMenuClassNames = _ref.subMenuClassNames,\n      activatedMenuItemIds = _ref.activatedMenuItemIds;\n  var Icon = item.icon || null;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: classNames('side-nav-item', {\n      'mm-active': activatedMenuItemIds.indexOf(item.id) >= 0\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: classNames('side-sub-nav-link', linkClassNames),\n    \"aria-expanded\": activatedMenuItemIds.indexOf(item.id) >= 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }\n  }, item.icon && /*#__PURE__*/React.createElement(Icon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 31\n    }\n  }), item.badge && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-\".concat(item.badge.variant, \" float-right\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 21\n    }\n  }, item.badge.text), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 17\n    }\n  }, \" \", item.name, \" \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"menu-arrow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"ul\", {\n    className: classNames(subMenuClassNames, 'mm-collapse', {\n      'mm-collapsed mm-show': activatedMenuItemIds.indexOf(item.id) >= 0\n    }),\n    \"aria-expanded\": activatedMenuItemIds.indexOf(item.id) >= 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }, item.children.map(function (child, i) {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 25\n      }\n    }, child.children ? /*#__PURE__*/React.createElement(MenuItemWithChildren, {\n      item: child,\n      linkClassNames: \"\",\n      activatedMenuItemIds: activatedMenuItemIds,\n      subMenuClassNames: \"side-nav-third-level\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 33\n      }\n    }) : /*#__PURE__*/React.createElement(MenuItem, {\n      item: child,\n      className: classNames({\n        active: activatedMenuItemIds.indexOf(child.id) >= 0\n      }),\n      linkClassName: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 37\n      }\n    }));\n  })));\n};\n\nvar MenuItem = function MenuItem(_ref2) {\n  var item = _ref2.item,\n      className = _ref2.className,\n      linkClassName = _ref2.linkClassName;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: classNames('side-nav-item', className),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuItemLink, {\n    item: item,\n    className: linkClassName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }));\n};\n\nvar MenuItemLink = function MenuItemLink(_ref3) {\n  var item = _ref3.item,\n      className = _ref3.className;\n  var Icon = item.icon || null;\n  return /*#__PURE__*/React.createElement(Link, {\n    to: item.path,\n    className: classNames('side-nav-link-ref', 'side-sub-nav-link', className),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, item.icon && /*#__PURE__*/React.createElement(Icon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 27\n    }\n  }), item.badge && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-size-12 badge badge-\".concat(item.badge.variant, \" float-right\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 28\n    }\n  }, item.badge.text), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \" \", item.name, \" \"));\n};\n/**\n * Renders the application menu\n */\n\n\nvar AppMenu = /*#__PURE__*/function (_Component) {\n  _inherits(AppMenu, _Component);\n\n  var _super = _createSuper(AppMenu);\n\n  function AppMenu() {\n    var _this2;\n\n    _classCallCheck(this, AppMenu);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _super.call.apply(_super, [this].concat(args));\n    _this2.menuRef = null;\n\n    _this2.componentDidMount = function () {\n      if (!_this2.props.menu.menuItems) _this2.props.initMenu();else _this2.initMenu();\n\n      _this2.props.history.listen(function (location, action) {\n        // hide menus in mobile\n        document.body.classList.remove('sidebar-enable');\n\n        _this2.props.changeActiveMenuFromLocation();\n      });\n    };\n\n    _this2.componentDidUpdate = function (prevProps) {\n      if (!prevProps.menu.menuItems || prevProps.menu.menuItems && prevProps.menu.menuItems !== _this2.props.menu.menuItems) {\n        _this2.initMenu();\n      }\n\n      if (!_this2.props.menu.activatedMenuItemIds) {\n        _this2.props.changeActiveMenuFromLocation();\n      }\n    };\n\n    return _this2;\n  }\n\n  _createClass(AppMenu, [{\n    key: \"initMenu\",\n    value: function initMenu() {\n      if (this.props.mode === 'horizontal') {\n        var menuRef = this.menuRef = new MetisMenu('#menu-bar').on('shown.metisMenu', function (event) {\n          window.addEventListener('click', function menuClick(e) {\n            if (!event.target.contains(e.target)) {\n              menuRef.hide(event.detail.shownElement);\n              window.removeEventListener('click', menuClick);\n            }\n          });\n        });\n      } else {\n        this.menuRef = new MetisMenu('#menu-bar');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var isHorizontal = this.props.mode === 'horizontal';\n      var activatedKeys = isHorizontal ? [] : this.props.menu ? this.props.menu.activatedMenuItemIds ? this.props.menu.activatedMenuItemIds : [] : [] || [];\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }\n      }, this.props.menu && this.props.menu.menuItems && /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"metismenu\",\n        id: \"menu-bar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 29\n        }\n      }, this.props.menu.menuItems.map(function (item, i) {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          key: item.id,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 41\n          }\n        }, item.header && !isHorizontal && /*#__PURE__*/React.createElement(\"li\", {\n          className: \"menu-title\",\n          key: i + '-el',\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 49\n          }\n        }, item.header), item.children ? /*#__PURE__*/React.createElement(MenuItemWithChildren, {\n          item: item,\n          subMenuClassNames: \"nav-second-level\",\n          activatedMenuItemIds: activatedKeys,\n          linkClassNames: \"side-nav-link\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 49\n          }\n        }) : /*#__PURE__*/React.createElement(MenuItem, {\n          item: item,\n          className: classNames({\n            'mm-active': activatedKeys.indexOf(item.id) >= 0\n          }),\n          linkClassName: \"side-nav-link\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 53\n          }\n        }));\n      })));\n    }\n  }]);\n\n  return AppMenu;\n}(Component);\n\nAppMenu.defaultProps = {\n  mode: 'vertical'\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    menu: state.AppMenu\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, {\n  initMenu,\n  changeActiveMenuFromLocation\n})(AppMenu));","map":{"version":3,"sources":["/root/home/covid/frontend/src/components/AppMenu.js"],"names":["React","Component","Link","withRouter","connect","classNames","MetisMenu","initMenu","changeActiveMenuFromLocation","MenuItemWithChildren","item","linkClassNames","subMenuClassNames","activatedMenuItemIds","Icon","icon","indexOf","id","badge","variant","text","name","children","map","child","i","active","MenuItem","className","linkClassName","MenuItemLink","path","AppMenu","menuRef","componentDidMount","props","menu","menuItems","history","listen","location","action","document","body","classList","remove","componentDidUpdate","prevProps","mode","on","event","window","addEventListener","menuClick","e","target","contains","hide","detail","shownElement","removeEventListener","isHorizontal","activatedKeys","header","defaultProps","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport MetisMenu from 'metismenujs/dist/metismenujs';\n\nimport { initMenu, changeActiveMenuFromLocation } from '../redux/actions';\n\n\nconst MenuItemWithChildren = ({ item, linkClassNames, subMenuClassNames, activatedMenuItemIds }) => {\n    const Icon = item.icon || null;\n    return (\n        <li className={classNames('side-nav-item', { 'mm-active': activatedMenuItemIds.indexOf(item.id) >= 0 })}>\n            <Link\n                to=\"/\"\n                className={classNames('side-sub-nav-link', linkClassNames)}\n                aria-expanded={activatedMenuItemIds.indexOf(item.id) >= 0}>\n                {item.icon && <Icon />}\n                {item.badge && (\n                    <span className={`badge badge-${item.badge.variant} float-right`}>{item.badge.text}</span>\n                )}\n                <span> {item.name} </span>\n                <span className=\"menu-arrow\"></span>\n            </Link>\n\n            <ul\n                className={classNames(subMenuClassNames, 'mm-collapse', {\n                    'mm-collapsed mm-show': activatedMenuItemIds.indexOf(item.id) >= 0,\n                })}\n                aria-expanded={activatedMenuItemIds.indexOf(item.id) >= 0}>\n                {item.children.map((child, i) => {\n                    return (\n                        <React.Fragment key={i}>\n                            {child.children ? (\n                                <MenuItemWithChildren\n                                    item={child}\n                                    linkClassNames=\"\"\n                                    activatedMenuItemIds={activatedMenuItemIds}\n                                    subMenuClassNames=\"side-nav-third-level\"\n                                />\n                            ) : (\n                                    <MenuItem\n                                        item={child}\n                                        className={classNames({ active: activatedMenuItemIds.indexOf(child.id) >= 0 })}\n                                        linkClassName=\"\"\n                                    />\n                                )}\n                        </React.Fragment>\n                    );\n                })}\n            </ul>\n        </li>\n    );\n};\n\nconst MenuItem = ({ item, className, linkClassName }) => {\n    return (\n        <li className={classNames('side-nav-item', className)}>\n            <MenuItemLink item={item} className={linkClassName} />\n        </li>\n    );\n};\n\nconst MenuItemLink = ({ item, className }) => {\n    const Icon = item.icon || null;\n    return (\n        <Link to={item.path} className={classNames('side-nav-link-ref', 'side-sub-nav-link', className)}>\n            {item.icon && <Icon />}\n            {item.badge && <span className={`font-size-12 badge badge-${item.badge.variant} float-right`}>{item.badge.text}</span>}\n            <span> {item.name} </span>\n        </Link>\n    );\n};\n\n/**\n * Renders the application menu\n */\n\nclass AppMenu extends Component {\n    menuRef = null;\n\n    static defaultProps = {\n        mode: 'vertical',\n    };\n\n    componentDidMount = () => {\n        if (!this.props.menu.menuItems) this.props.initMenu();\n        else this.initMenu();\n\n        this.props.history.listen((location, action) => {\n            // hide menus in mobile\n            document.body.classList.remove('sidebar-enable');\n            this.props.changeActiveMenuFromLocation();\n        });\n    };\n\n    componentDidUpdate = prevProps => {\n        if (\n            !prevProps.menu.menuItems ||\n            (prevProps.menu.menuItems && prevProps.menu.menuItems !== this.props.menu.menuItems)\n        ) {\n            this.initMenu();\n        }\n\n        if (!this.props.menu.activatedMenuItemIds) {\n            this.props.changeActiveMenuFromLocation();\n        }\n    };\n\n    initMenu() {\n        if (this.props.mode === 'horizontal') {\n            const menuRef = this.menuRef = new MetisMenu('#menu-bar').on('shown.metisMenu', function(event) {\n                window.addEventListener('click', function menuClick(e) {\n                    if (!event.target.contains(e.target)) {\n                        menuRef.hide(event.detail.shownElement);\n                        window.removeEventListener('click', menuClick);\n                    }\n                });\n            });\n        } else {\n            this.menuRef = new MetisMenu('#menu-bar');\n        }\n    }\n\n    render() {\n        const isHorizontal = this.props.mode === 'horizontal';\n        const activatedKeys = isHorizontal ? [] : this.props.menu ? (this.props.menu.activatedMenuItemIds? this.props.menu.activatedMenuItemIds :[]) : [] || [];\n\n        return (\n            <React.Fragment>\n                \n                        {this.props.menu && this.props.menu.menuItems && (\n                            <ul className=\"metismenu\" id=\"menu-bar\">\n                                {this.props.menu.menuItems.map((item, i) => {\n                                    return (\n                                        <React.Fragment key={item.id}>\n                                            {item.header && !isHorizontal && (\n                                                <li className=\"menu-title\" key={i + '-el'}>\n                                                    {item.header}\n                                                </li>\n                                            )}\n\n                                            {item.children ? (\n                                                <MenuItemWithChildren\n                                                    item={item}\n                                                    subMenuClassNames=\"nav-second-level\"\n                                                    activatedMenuItemIds={activatedKeys}\n                                                    linkClassNames=\"side-nav-link\"\n                                                />\n                                            ) : (\n                                                    <MenuItem\n                                                        item={item}\n                                                        className={classNames({ 'mm-active': activatedKeys.indexOf(item.id) >= 0 })}\n                                                        linkClassName=\"side-nav-link\"\n                                                    />\n                                                )}\n                                        </React.Fragment>\n                                    );\n                                })}\n                            </ul>\n                        )}\n            </React.Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        menu: state.AppMenu,\n    };\n};\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        { initMenu, changeActiveMenuFromLocation }\n    )(AppMenu)\n);\n"]},"metadata":{},"sourceType":"module"}